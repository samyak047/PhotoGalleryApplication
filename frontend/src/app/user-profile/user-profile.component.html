<div class="main-content">
  <div class="container-fluid">
    <app-navbar></app-navbar>
      <div class="card">
          <br><br><br>
          <div class="card-header card-header-danger">
            {{username}}
          </div>
          <br><br>

              <mat-form-field>
                <mat-label>First Name</mat-label>
                  <input matInput placeholder="First Name" [(ngModel)]="firstname" required>
              </mat-form-field>
              <mat-form-field>
                <mat-label>Last Name</mat-label>
                <input matInput placeholder="Last Name" name="lastname" [(ngModel)]="lastname" required>
              </mat-form-field>
              <mat-form-field>
                <mat-label>Email</mat-label>
                <input matInput type="email" placeholder="Email" name="email" [(ngModel)]="email" required>
              </mat-form-field>
              <mat-form-field>
                <mat-label>Gender</mat-label>
                  <mat-select [(value)]="gender">
                    <mat-option value="Male">Male</mat-option>
                    <mat-option value="Female">Female</mat-option>
                  </mat-select>
              </mat-form-field>
              <button (click)="updateProfile()" style="align-self: center; width:50%" mat-raised-button color="warn">Update Profile</button>
              <br><br>
                <mat-form-field>
                  <mat-label>Old Password</mat-label>  
                  <input matInput type="password" name="password" [(ngModel)]="password1" required>
                </mat-form-field>
                <mat-form-field>
                  <mat-label>New Password</mat-label>  
                  <input matInput type="password" name="password2" [(ngModel)]="password2" required>
                </mat-form-field>
                

                <button (click)="changePassword(password1, pasword2)" style="align-self: center; width:50%" mat-raised-button color="warn">Change Password</button>
                <br><br>
              <mat-label>Profile Picture</mat-label>
              <img [src] = "this.SERVER_BASE_URL +  profilePicture" class="rounded mx-auto d-block" alt="Lights" style="width:100%">
              <br>
              Change Profile Picture: 
              <input type="file" name="cover_photo" (change)="onFileChanged($event)" [(ngModel)]="cover_photo" #fileInput required>
              
              <button style="align-self: center; width:50%" type="submit" mat-raised-button color="warn">Change Profile Picture</button>

                <div *ngIf="message">
                  <mat-error>{{message}}</mat-error>
                </div>
            <!-- </form> -->

        </div>
        <div *ngIf="edit">
          <button style="align-self: center; width:50%" (click)="deleteAccount()" type="submit" mat-raised-button color="warn">Delete Account</button>
        </div>
  </div>

</div>

<div class="container">
  <h2 *ngIf="this.public_albums.length">Public Albums Created by you :</h2>
  <h5 *ngIf="!this.public_albums.length">No Public Album Created by you.</h5>

  <div class="row">
    <div class="col-md-4" *ngFor = "let album of this.public_albums"> 
      <div class="thumbnail">
          
        <a [routerLink]="['/album', album.id]">
          <img [src] = "this.SERVER_BASE_URL +  album.cover_photo" style="width:100%">
        </a>
        <div class="caption">
          <p>Description: {{album.description}}</p>
          <a><i class="material-icons" (click)="likeAlbum(album.id)">thumb_up</i></a>
          <a><i class="material-icons-outlined" (click)="unlikeAlbum(album.id)">thumb_up</i></a>
        </div>
          
      </div>
    </div>  
  </div>
</div>


<div class="container">
  <h2 *ngIf="this.private_albums.length">Private Albums Created by you :</h2>
  <h5 *ngIf="!this.private_albums.length">No Private Album Created by you.</h5>

  <div class="row">
    <div class="col-md-4" *ngFor = "let album of this.private_albums"> 
      <div class="thumbnail">
          
        <a [routerLink]="['/album', album.id]">
          <img [src] = "this.SERVER_BASE_URL +  album.cover_photo" style="width:100%">
        </a>
        <div class="caption">
          <p>Description: {{album.description}}</p>
          <a><i class="material-icons" (click)="likeAlbum(album.id)">thumb_up</i></a>
          <a><i class="material-icons-outlined" (click)="unlikeAlbum(album.id)">thumb_up</i></a>
        </div>
          
      </div>
    </div>  
  </div>
</div>
